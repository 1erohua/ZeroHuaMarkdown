在C++中，当函数返回一个局部变量时，具体行为取决于编译器优化和C++标准的版本：

1. **复制省略（Copy Elision）优先**：
   - 如果编译器应用了**返回值优化（RVO/NRVO）**，则对象直接在调用者的内存位置构造，**不调用任何拷贝或移动构造函数**。这是最理想的情况。
   - 在C++17及之后，对于返回局部对象的场景（如`return MyClass();`），复制省略是**强制**的，无需依赖编译器优化。

2. **未优化时的行为**：
   - 若无复制省略（如旧标准或复杂逻辑导致优化失败），编译器会尝试将局部变量视为**右值**，优先调用**移动构造函数**（如果类型支持移动语义）。
   - 若类型无移动构造函数（例如未定义或已删除），则回退到**拷贝构造函数**。

**总结**：
- 若优化生效（常见于现代编译器和C++17+），**无拷贝或移动**。
- 若无优化且支持移动，**调用移动构造**。
- 若无优化且不支持移动，**调用拷贝构造**。

示例代码验证：
```cpp
#include <iostream>

struct Test {
    Test() {}
    Test(const Test&) { std::cout << "Copy\n"; }
    Test(Test&&) { std::cout << "Move\n"; }
};

Test create() {
    Test local;
    return local; // 可能触发NRVO或移动构造
}

int main() {
    Test obj = create();
    return 0;
}
```
- 若启用优化（如`-O2`），输出可能为空（无构造调用）。
- 若禁用优化且支持移动，输出`Move`。
- 若移动被删除且无优化，输出`Copy`。